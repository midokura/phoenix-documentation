"use strict";(globalThis.webpackChunkfoo=globalThis.webpackChunkfoo||[]).push([[6026],{7492(e,n,o){o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"service-operator/NETWORK_CONTROL_NODE_SETUP","title":"Network Control Node Setup","description":"This guide walks you through provisioning the control node that manages the network fabric, then installing SONiC on the switches.","source":"@site/versioned_docs/version-v1.5/service-operator/NETWORK_CONTROL_NODE_SETUP.md","sourceDirName":"service-operator","slug":"/service-operator/NETWORK_CONTROL_NODE_SETUP","permalink":"/foo/docs/service-operator/NETWORK_CONTROL_NODE_SETUP","draft":false,"unlisted":false,"tags":[],"version":"v1.5","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Bare-Metal Node Enrollment and Server Creation","permalink":"/foo/docs/service-operator/INSTALL_BAREMETAL_NODE"},"next":{"title":"Observability Alerts","permalink":"/foo/docs/service-operator/OBSERVABILITY_ALERTS"}}');var i=o(4848),r=o(8453);const t={},l="Network Control Node Setup",a={},c=[{value:"What You&#39;re Doing",id:"what-youre-doing",level:2},{value:"Before You Start",id:"before-you-start",level:2},{value:"Prerequisites Checklist",id:"prerequisites-checklist",level:3},{value:"Bastion Node Access",id:"bastion-node-access",level:3},{value:"Control Node ISO",id:"control-node-iso",level:3},{value:"Switch Access",id:"switch-access",level:3},{value:"Installation Steps",id:"installation-steps",level:2},{value:"Step 1: Download Control Node ISO",id:"step-1-download-control-node-iso",level:3},{value:"Step 2: Create Control VM on Bastion",id:"step-2-create-control-vm-on-bastion",level:3},{value:"Step 3: Verify Control Node",id:"step-3-verify-control-node",level:3},{value:"Step 3.1: Apply the fabric configuration to HedgeHog Control Plane",id:"step-31-apply-the-fabric-configuration-to-hedgehog-control-plane",level:4},{value:"Step 4: Prepare Switches for SONiC Installation",id:"step-4-prepare-switches-for-sonic-installation",level:3},{value:"4.1: Setup HTTP Server for ONIE",id:"41-setup-http-server-for-onie",level:4},{value:"4.2: Download ONIE Firmware",id:"42-download-onie-firmware",level:4},{value:"4.3: Access Switch Console",id:"43-access-switch-console",level:4},{value:"4.4: Update ONIE Firmware",id:"44-update-onie-firmware",level:4},{value:"4.5: Boot into ONIE Mode",id:"45-boot-into-onie-mode",level:4},{value:"Step 5: Install SONiC via HedgeHog",id:"step-5-install-sonic-via-hedgehog",level:3},{value:"Step 6: Verification",id:"step-6-verification",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Control VM Won&#39;t Boot",id:"control-vm-wont-boot",level:3},{value:"Switch Not Getting ONIE Firmware",id:"switch-not-getting-onie-firmware",level:3},{value:"Switches Not Appearing in Fabric",id:"switches-not-appearing-in-fabric",level:3},{value:"Can&#39;t SSH to Control Node",id:"cant-ssh-to-control-node",level:3},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"network-control-node-setup",children:"Network Control Node Setup"})}),"\n",(0,i.jsx)(n.p,{children:"This guide walks you through provisioning the control node that manages the network fabric, then installing SONiC on the switches."}),"\n",(0,i.jsx)(n.h2,{id:"what-youre-doing",children:"What You're Doing"}),"\n",(0,i.jsx)(n.p,{children:"You'll deploy a VM on the bastion node that acts as the control plane for the HedgeHog network fabric. This control node will then manage the installation and configuration of SONiC on your network switches. The fabric configuration and wiring are pre-baked into the installer ISO."}),"\n",(0,i.jsx)(n.h2,{id:"before-you-start",children:"Before You Start"}),"\n",(0,i.jsx)(n.h3,{id:"prerequisites-checklist",children:"Prerequisites Checklist"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Bastion Node Access"})," - SSH access to bastion node \u2192 ",(0,i.jsx)(n.a,{href:"#bastion-node-access",children:"Details"})]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Control Node ISO"})," - Download URL for HedgeHog Control node ISO \u2192 ",(0,i.jsx)(n.a,{href:"#control-node-iso",children:"Details"})]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.strong,{children:"Switch Access"})," - Serial console access to network switches \u2192 ",(0,i.jsx)(n.a,{href:"#switch-access",children:"Details"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"bastion-node-access",children:"Bastion Node Access"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"What it is:"})," SSH access to the bastion/jump host where the control VM will run"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Deploy and manage the network control node"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"What you need:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"SSH key and credentials"}),"\n",(0,i.jsx)(n.li,{children:"Sufficient resources on bastion: 8-12 vCPU, 16 GiB RAM, 35 GB disk space for the control VM"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"control-node-iso",children:"Control Node ISO"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"What it is:"})," Pre-built installer ISO for the network control node"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Contains the HedgeHog control plane with pre-configured fabric settings and wiring"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"What you need:"})," Download (Azure Blob Storage) URL previously provided"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"switch-access",children:"Switch Access"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"What it is:"})," Serial console access to SONiC-compatible network switches"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Boot switches into ONIE for SONiC installation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"How to access:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo minicom -D /dev/ttyUSB1 -b 115200\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If a person is already connected, another person can connect with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo socat -d -d /dev/ttyUSB1,raw,echo=0 stdout\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"What you need:"})," Physical serial connection to switches"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation-steps",children:"Installation Steps"}),"\n",(0,i.jsx)(n.h3,{id:"step-1-download-control-node-iso",children:"Step 1: Download Control Node ISO"}),"\n",(0,i.jsx)(n.p,{children:"On the bastion node, download the pre-built ISO:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Use the SAS URL from your materials PDF\nwget -O hedgehog-installer.iso "https://your-storage-account.blob.core.windows.net/path/to/hedgehog-installer.iso?sp=r&st=..."\n'})}),"\n",(0,i.jsx)(n.p,{children:"Verify the download:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls -lh hedgehog-installer.iso\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-2-create-control-vm-on-bastion",children:"Step 2: Create Control VM on Bastion"}),"\n",(0,i.jsx)(n.p,{children:"Create and start the control node VM using the ISO. The control node requires:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"vCPU:"})," 8-12 cores"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"RAM:"})," 16 GiB"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Disk:"})," 35 GB"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Set up variables for your environment:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Adjust these paths and names for your environment\nIMG_DIR=/var/lib/libvirt/images\nVM_NAME=hedgehog-control\nUBNT_REL_YEAR="24.04"\nVM_VCPU=8\nVM_RAM=16384\nROOTFS_SIZE=35G\n\n# Adjust these for your network setup\nVM_MAC=52:54:00:a1:ac:ff  # Must be unique\nVM_BRIDGE=br-mgmt          # Your management network bridge\n'})}),"\n",(0,i.jsx)(n.p,{children:"Prepare the blank OS image:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo qemu-img create -f qcow2 ${IMG_DIR}/${VM_NAME}.qcow2 ${ROOTFS_SIZE}\nsudo chown -v libvirt-qemu:kvm ${IMG_DIR}/${VM_NAME}.qcow2\nsudo chmod -v 664 ${IMG_DIR}/${VM_NAME}.qcow2\n"})}),"\n",(0,i.jsx)(n.p,{children:"Set permissions on the installer ISO:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Assuming hedgehog-installer.iso is in the same directory\nsudo chown -v libvirt-qemu:kvm ${IMG_DIR}/hedgehog-installer.iso\nsudo chmod -v 664 ${IMG_DIR}/hedgehog-installer.iso\n"})}),"\n",(0,i.jsx)(n.p,{children:"Create and start the VM:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"virt-install --name=${VM_NAME} \\\n  --os-variant=ubuntu${UBNT_REL_YEAR} \\\n  --machine q35 \\\n  --boot firmware=efi,firmware.feature0.name=secure-boot,firmware.feature0.enabled=no \\\n  --tpm none \\\n  --vcpu=${VM_VCPU} \\\n  --ram=${VM_RAM} \\\n  --disk path=${IMG_DIR}/${VM_NAME}.qcow2,bus=virtio \\\n  --cdrom=${IMG_DIR}/hedgehog-installer.iso \\\n  --network bridge=${VM_BRIDGE},mac=${VM_MAC} \\\n  --noautoconsole\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," The exact VM creation method depends on your bastion's virtualization setup (KVM/libvirt, VMware, etc.). If you need PCI passthrough for additional network devices, add ",(0,i.jsx)(n.code,{children:"--host-device=pci_XXXX_XX_XX_X"})," to the command."]}),"\n",(0,i.jsx)(n.p,{children:"The installation process is automated. Monitor progress via console:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"virsh console ${VM_NAME}\n"})}),"\n",(0,i.jsx)(n.p,{children:"The VM will shut itself down when installation is complete. Once it's done, start it:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"virsh start ${VM_NAME}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-3-verify-control-node",children:"Step 3: Verify Control Node"}),"\n",(0,i.jsx)(n.p,{children:"Check that the control node VM is running and accessible:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check VM status\nsudo virsh list --all\n\n# Console into the VM to get IP addresses\nvirsh console ${VM_NAME}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Once logged in via console, list all IP addresses:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List all network interfaces and their IPs\nip -br addr show\n\n# Or for more detail\nip addr show\n"})}),"\n",(0,i.jsx)(n.p,{children:"Note the IP address(es) and use them to SSH from your workstation if needed:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ssh core@<control-node-ip>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Verify HedgeHog services are running:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -A\n"})}),"\n",(0,i.jsx)(n.p,{children:"All pods should be in Running state."}),"\n",(0,i.jsx)(n.h4,{id:"step-31-apply-the-fabric-configuration-to-hedgehog-control-plane",children:"Step 3.1: Apply the fabric configuration to HedgeHog Control Plane"}),"\n",(0,i.jsx)(n.p,{children:"On the HedgeHog control node VM, download the pre-configured network fabric configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Use the SAS URL from your materials PDF\nwget -O hedgehog-fabric-configuration.yaml "https://your-storage-account.blob.core.windows.net/path/to/hedgehog-fabric-configuration.yaml?sp=r&st=..."\n'})}),"\n",(0,i.jsx)(n.p,{children:"Apply the configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f hedgehog-fabric-configuration.yaml\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-4-prepare-switches-for-sonic-installation",children:"Step 4: Prepare Switches for SONiC Installation"}),"\n",(0,i.jsx)(n.p,{children:"For each switch, you'll set up ONIE to pull the SONiC installer from a temporary HTTP server."}),"\n",(0,i.jsx)(n.h4,{id:"41-setup-http-server-for-onie",children:"4.1: Setup HTTP Server for ONIE"}),"\n",(0,i.jsx)(n.p,{children:"On a machine reachable from the switch management network (can be the bastion):"}),"\n",(0,i.jsx)(n.p,{children:"Create the directory for ONIE files:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir -p /home/ubuntu/boot-http-server\n"})}),"\n",(0,i.jsx)(n.p,{children:"Start nginx container to serve ONIE files:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d --name onie-server \\\n  -p 8080:80 \\\n  -v /home/ubuntu/boot-http-server:/usr/share/nginx/html \\\n  nginx\n"})}),"\n",(0,i.jsx)(n.h4,{id:"42-download-onie-firmware",children:"4.2: Download ONIE Firmware"}),"\n",(0,i.jsx)(n.p,{children:"Download the ONIE image appropriate for your switch model directly to the HTTP server directory:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Download URL will be provided in your materials PDF\n# Or obtain from your switch vendor\'s support site\ncd /home/ubuntu/boot-http-server\nwget -O onie-updater.bin "https://vendor-url/onie-updater.bin"\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," The exact ONIE firmware filename and version will vary based on your switch hardware. Check your materials PDF for the correct download URL."]}),"\n",(0,i.jsx)(n.h4,{id:"43-access-switch-console",children:"4.3: Access Switch Console"}),"\n",(0,i.jsx)(n.p,{children:"Connect to each switch via serial console:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo minicom -D /dev/ttyUSB1 -b 115200\n# (adjust device path for each switch)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"44-update-onie-firmware",children:"4.4: Update ONIE Firmware"}),"\n",(0,i.jsx)(n.p,{children:"From the ONIE prompt, update the ONIE firmware using the HTTP server (nginx container) we set up in step 4.1:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# In ONIE prompt\nonie-stop\nonie-self-update http://192.168.0.XX:8080/onie-updater.bin\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Replace ",(0,i.jsx)(n.code,{children:"192.168.0.XX"})," with the IP address of the machine running the nginx container and ",(0,i.jsx)(n.code,{children:"onie-updater.bin"})," with your actual ONIE firmware filename."]}),"\n",(0,i.jsx)(n.h4,{id:"45-boot-into-onie-mode",children:"4.5: Boot into ONIE Mode"}),"\n",(0,i.jsx)(n.p,{children:"After ONIE firmware is updated, reboot the switch to boot into ONIE:"}),"\n",(0,i.jsx)(n.p,{children:"From the switch console:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Reboot the switch:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo reboot\n"})}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Hit DEL after Grub selection"}),"\n",(0,i.jsx)(n.li,{children:'Select "ONIE: Install OS"'}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"step-5-install-sonic-via-hedgehog",children:"Step 5: Install SONiC via HedgeHog"}),"\n",(0,i.jsx)(n.p,{children:"Once switches are in ONIE mode, HedgeHog will automatically detect them on the management network and begin SONiC installation via DHCP."}),"\n",(0,i.jsx)(n.p,{children:"Monitor agent heartbeats and configuration from the control node:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# SSH to control node\nssh core@<control-node-ip>\n\n# Watch for agent heartbeats and configuration generation\nkubectl get agent -o wide -w\n"})}),"\n",(0,i.jsx)(n.p,{children:"Wait for agents to send heartbeats and show current/applied configuration generation."}),"\n",(0,i.jsx)(n.h3,{id:"step-6-verification",children:"Step 6: Verification"}),"\n",(0,i.jsx)(n.p,{children:"List switches and SSH to them:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List switches to get switch names\nkubectl get switches\n\n# SSH to a switch using its name\nkubectl fabric switch ssh --name <switch-name>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Use the default HedgeHog admin password when prompted."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Troubleshooting:"})," If the agent doesn't send heartbeats, check the agent logs via serial console:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# From switch serial console\ncat /var/log/agent.log\n"})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"control-vm-wont-boot",children:"Control VM Won't Boot"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Verify ISO downloaded completely: ",(0,i.jsx)(n.code,{children:"sha256sum hedgehog-installer.iso"})]}),"\n",(0,i.jsx)(n.li,{children:"Check VM resources are sufficient (8-12 vCPU, 16 GiB RAM, 35 GB disk)"}),"\n",(0,i.jsxs)(n.li,{children:["Review VM console logs: ",(0,i.jsx)(n.code,{children:"sudo virsh console ${VM_NAME}"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"switch-not-getting-onie-firmware",children:"Switch Not Getting ONIE Firmware"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Verify HTTP server is accessible: ",(0,i.jsx)(n.code,{children:"curl http://192.168.0.XX:8080/onie-updater.bin"})]}),"\n",(0,i.jsx)(n.li,{children:"Check switch can reach HTTP server from management network"}),"\n",(0,i.jsx)(n.li,{children:"Verify ONIE firmware file is in correct directory"}),"\n",(0,i.jsxs)(n.li,{children:["Check nginx container is running: ",(0,i.jsx)(n.code,{children:"docker ps"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"switches-not-appearing-in-fabric",children:"Switches Not Appearing in Fabric"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Verify control node has connectivity to management network"}),"\n",(0,i.jsx)(n.li,{children:"Check DHCP is working on management network"}),"\n",(0,i.jsxs)(n.li,{children:["Review the HedgeHog installation log:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"tail -f /var/log/install.log"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Review fabric controller logs:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"kubectl logs -n fab -l app.kubernetes.io/name=fabricator"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"kubectl logs -n fab -l app.kubernetes.io/name=fabric"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Ensure switches completed ONIE update and rebooted"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"cant-ssh-to-control-node",children:"Can't SSH to Control Node"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Console into VM and check IP addresses: ",(0,i.jsx)(n.code,{children:"virsh console ${VM_NAME}"})," then ",(0,i.jsx)(n.code,{children:"ip -br addr show"})]}),"\n",(0,i.jsx)(n.li,{children:"Verify VM got IP via DHCP on management network"}),"\n",(0,i.jsx)(n.li,{children:"Check network bridge configuration on bastion"}),"\n",(0,i.jsx)(n.li,{children:"Verify VM network is connected to management network"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["HedgeHog Official Documentation: ",(0,i.jsx)(n.a,{href:"https://docs.hedgehog.cloud/",children:"https://docs.hedgehog.cloud/"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,o){o.d(n,{R:()=>t,x:()=>l});var s=o(6540);const i={},r=s.createContext(i);function t(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);