"use strict";(globalThis.webpackChunkfoo=globalThis.webpackChunkfoo||[]).push([[7906],{8250(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});var t=i(8715),r=i(4848),o=i(8453);const a={slug:"v1.4",title:"Phoenix v1.4",authors:["sergimiralles"],tags:["phoenix"]},s=void 0,l={authorsImageUrls:[void 0]},d=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"Observability &amp; Monitoring",id:"observability--monitoring",level:3},{value:"Network Infrastructure Automation",id:"network-infrastructure-automation",level:3},{value:"Container Orchestration",id:"container-orchestration",level:3},{value:"Image &amp; Asset Management",id:"image--asset-management",level:3},{value:"Development &amp; Operations",id:"development--operations",level:3},{value:"Bug Fixes",id:"bug-fixes",level:2},{value:"Operator reference",id:"operator-reference",level:2},{value:"System requirements",id:"system-requirements",level:3},{value:"Overview",id:"overview-1",level:2},{value:"Environment setup",id:"environment-setup",level:2},{value:"Provisioning procedure",id:"provisioning-procedure",level:2},{value:"Network fabric setup",id:"network-fabric-setup",level:3},{value:"Control plane installation",id:"control-plane-installation",level:3},{value:"IaaS Console - Tenant and User configuration",id:"iaas-console---tenant-and-user-configuration",level:4},{value:"Baremetal Installation",id:"baremetal-installation",level:3}];function c(e){const n={a:"a",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"We are pleased to announce the v1.4 release of Phoenix."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This release introduces significant infrastructure automation improvements, enhanced observability with Grafana integration, expanded HedgeHog network management capabilities, and robust Kubernetes cluster provisioning through Magnum. The release focuses on improving deployment reliability, monitoring capabilities, and network infrastructure automation."}),"\n",(0,r.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,r.jsx)(n.h3,{id:"observability--monitoring",children:"Observability & Monitoring"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Grafana Integration (iaas-api): Added native Grafana configuration to iaas-api for seamless monitoring dashboard connectivity"}),"\n",(0,r.jsx)(n.li,{children:"Enhanced Observability Deployment: Increased Helm chart deployment timeout for more reliable observability stack installations"}),"\n",(0,r.jsx)(n.li,{children:"Improved Monitoring Configuration: Added comprehensive Grafana variables to inventory management"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"network-infrastructure-automation",children:"Network Infrastructure Automation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"HedgeHog VM Provisioning: Automated download, creation, and provisioning of HedgeHog VMs with ISO installer support and installation log monitoring"}),"\n",(0,r.jsx)(n.li,{children:"HedgeHog Manifest Deployment: Automated deployment of HedgeHog network manifests with VPC peering support and boot NIC MAC labeling for IaaS Console integration"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"container-orchestration",children:"Container Orchestration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Magnum Kubernetes Templates: Added automatic Kubernetes cluster template provisioning with Kubernetes v1.28.9, OpenStack integrations (Cinder CSI, Keystone, Octavia), and production-ready configurations"}),"\n",(0,r.jsx)(n.li,{children:"Enhanced Magnum Support: Enabled Magnum service in both development and QA environments with proper cluster user trust configuration"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"image--asset-management",children:"Image & Asset Management"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Multi-format Compression Support: Added support for gz, bz2, and xz compressed images using community.general.decompress module"}),"\n",(0,r.jsx)(n.li,{children:"Improved Image Handling: Enhanced image download and decompression with better error handling for both compressed and uncompressed images"}),"\n",(0,r.jsx)(n.li,{children:"Fedora CoreOS 38 Support: Added Fedora CoreOS 38 image support with custom image properties"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"development--operations",children:"Development & Operations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Script Reorganization: Renamed main.sh to platform-setup.sh for clearer script identification and easier reference"}),"\n",(0,r.jsx)(n.li,{children:"Enhanced CLI Experience: Added Phoenix banner and welcome banner for improved user experience"}),"\n",(0,r.jsx)(n.li,{children:"Improved Error Reporting: Enhanced Makefile to print paths of missing playbooks for better debugging"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"bug-fixes",children:"Bug Fixes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Fixed OpenStack pod resource limits: Increased default PID limit for OpenStack pods to prevent neutron_dhcp_agent exhaustion"}),"\n",(0,r.jsx)(n.li,{children:"Fixed image processing: Improved handling of uncompressed images with different filenames and enhanced compressed file validation"}),"\n",(0,r.jsx)(n.li,{children:"Fixed Kolla Ansible dependencies: Updated to latest 2025.1 release version of python-ironicclient (5.10.1)"}),"\n",(0,r.jsx)(n.li,{children:"Fixed CI/CD workflows: Improved credential handling, proper yq installation, and enhanced workflow path management"}),"\n",(0,r.jsx)(n.li,{children:"Fixed inventory management: Corrected bastion inventory location and improved ansible configuration handling"}),"\n",(0,r.jsx)(n.li,{children:"Fixed VPC networking: Avoided overlapping subnets between operator and tenant VPCs\nFixed deployment scripts: Enhanced vault password management and environment variable handling"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This release contains 95+ commits focused on infrastructure automation, observability enhancements, and deployment reliability improvements. The changes span multiple components including gpu-infrastructure, iaas-console integration, HedgeHog network management, and OpenStack service expansion."}),"\n",(0,r.jsx)(n.p,{children:"Merry Christmas! \ud83c\udf85"}),"\n",(0,r.jsx)(n.h2,{id:"operator-reference",children:"Operator reference"}),"\n",(0,r.jsx)(n.p,{children:"This is the reference sheet for Phoenix v1.4, an end-to-end solution to operate private,\nmulti-tenant AI factories. Operators will find below an overview of the materials, infrastructure,\nand other requirements, and an entry point to the procedure to provision and configure the\nsystem."}),"\n",(0,r.jsxs)(n.p,{children:["Please contact ",(0,r.jsx)(n.a,{href:"mailto:support@midokura.com",children:"support@midokura.com"})," for more information."]}),"\n",(0,r.jsx)(n.h3,{id:"system-requirements",children:"System requirements"}),"\n",(0,r.jsx)(n.p,{children:"Note: documentation files referenced here are provided in a downloadable artefact included in\nthe environment setup section."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Before proceeding, operators are expected to ensure that the underlying infrastructure\nmeets the system requirements listed below."}),"\n",(0,r.jsx)(n.li,{children:"Operating system requirements for the OpenStack control nodes are available in the\ndocumentation file ./service-operator/OS_REQUIREMENTS.md"}),"\n",(0,r.jsx)(n.li,{children:"Operators are expected to set up their hardware according to our official Blueprint,\nspecifically with regard to network configuration, port and interface assignment.\n-- Base Operating System for OSt controllers should be ubuntu-24.04"}),"\n",(0,r.jsx)(n.li,{children:"Storage. Operators are expected to provide a Ceph cluster, integrated in the\ninfrastructure as defined in the blueprint. See more details in the Environment setup."}),"\n",(0,r.jsx)(n.li,{children:"Set up a new Google Application that will be used as an SSO provider for the IaaS\nservice. To follow this process, consult the\n./service-operator/GOOGLE_SSO_SETUP.md file in the documentation bundle\ndescribed below."}),"\n",(0,r.jsx)(n.li,{children:"Set up credentials for the private registry at ghcr.io/midokura. We will provide you\nwith this token via secure means, and it will be required during the control plane\ninstallation process (more info ./service-operator/GHCR_AUTHENTICATION.md)."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"overview-1",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The sections below provide references to materials required to proceed with the provisioning\nprocess, which takes place from the Bastion node shown in the blueprint. On a high level, the\nprocess is based on:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"An installer of the network fabric controller."}),"\n",(0,r.jsx)(n.li,{children:"A bundle of Ansible playbooks that will install and configure all components in the control\nplane."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"environment-setup",children:"Environment setup"}),"\n",(0,r.jsx)(n.p,{children:"To install the Phoenix cluster, the Operator will work from the bastion node reflected in the\nblueprint. The materials below must be available in the node before proceeding with the\ninstallation."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Create a new directory ./phoenix. This will serve to store artefacts and playbooks. All\ncommands and paths in this document are relative to this directory."}),"\n",(0,r.jsx)(n.li,{children:"Download and extract the Documentation bundle. We will refer to documentation files\nfrom different sections of this document."}),"\n",(0,r.jsx)(n.li,{children:"Download the Network controller installer ISO and the network fabric configuration\na. hedgehog-installer.iso\nb. hedgehog-fabric-configuration.yaml"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"provisioning-procedure",children:"Provisioning procedure"}),"\n",(0,r.jsx)(n.h3,{id:"network-fabric-setup",children:"Network fabric setup"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"To install the network fabric controller, follow the instructions in\n./service-operator/NETWORK_CONTROL_NODE_SETUP.md"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"control-plane-installation",children:"Control plane installation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prepare the Ceph cluster by following the steps explained in the documentation file\n./service-operator/CEPH_SETUP.md."}),"\n",(0,r.jsx)(n.li,{children:"Download and extract Ansible playbooks."}),"\n",(0,r.jsx)(n.li,{children:"Download inventory.example.yml as the base to input the configuration specific to your\ncluster."}),"\n",(0,r.jsx)(n.li,{children:"Execute them following the instructions in ./service-operator/DEPLOYMENT.md"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"iaas-console---tenant-and-user-configuration",children:"IaaS Console - Tenant and User configuration"}),"\n",(0,r.jsx)(n.p,{children:"To create additional admin users, register tenants and tenant users, please refer to the\ninstructions in ./service-operator/IAAS_CONSOLE_CONFIGURATION.md"}),"\n",(0,r.jsx)(n.h3,{id:"baremetal-installation",children:"Baremetal Installation"}),"\n",(0,r.jsx)(n.p,{children:"To install a baremetal node, please refer to the instructions in the documentation file:\n./service-operator/INSTALL_BAREMETAL_NODE.md"})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>a,x:()=>s});var t=i(6540);const r={},o=t.createContext(r);function a(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(o.Provider,{value:n},e.children)}},8715(e){e.exports=JSON.parse('{"permalink":"/foo/blog/v1.4","source":"@site/blog/2025-12-24-phoenix-v1.4.md","title":"Phoenix v1.4","description":"We are pleased to announce the v1.4 release of Phoenix.","date":"2025-12-24T00:00:00.000Z","tags":[{"inline":false,"label":"Phoenix","permalink":"/foo/blog/tags/phoenix","description":"Phoenix tag description"}],"readingTime":4.51,"hasTruncateMarker":true,"authors":[{"name":"Sergi Miralles","title":"Software Engineer @ Midokura","url":"https://github.com/sergimn","page":{"permalink":"/foo/blog/authors/sergimiralles"},"socials":{"github":"https://github.com/sergimn"},"imageURL":"https://avatars.githubusercontent.com/u/13437098?v=4","key":"sergimiralles"}],"frontMatter":{"slug":"v1.4","title":"Phoenix v1.4","authors":["sergimiralles"],"tags":["phoenix"]},"unlisted":false,"prevItem":{"title":"Phoenix v1.5","permalink":"/foo/blog/v1.5"},"nextItem":{"title":"Phoenix v1.3","permalink":"/foo/blog/v1.3"}}')}}]);