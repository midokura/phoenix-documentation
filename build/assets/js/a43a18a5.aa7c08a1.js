"use strict";(globalThis.webpackChunkfoo=globalThis.webpackChunkfoo||[]).push([[2109],{6538(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"service-operator/OS_REQUIREMENTS","title":"OS Requirements","description":"Operating System","source":"@site/versioned_docs/version-v1.3/service-operator/OS_REQUIREMENTS.md","sourceDirName":"service-operator","slug":"/service-operator/OS_REQUIREMENTS","permalink":"/phoenix-documentation/docs/v1.3/service-operator/OS_REQUIREMENTS","draft":false,"unlisted":false,"tags":[],"version":"v1.3","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Operator API Usage Guide","permalink":"/phoenix-documentation/docs/v1.3/service-operator/OPERATOR_API_GUIDE"},"next":{"title":"VPN Configuration for Tenant Users","permalink":"/phoenix-documentation/docs/v1.3/service-operator/VPN_CONFIGURATION"}}');var s=i(4848),o=i(8453);const l={},t="OS Requirements",c={},d=[{value:"Operating System",id:"operating-system",level:2},{value:"Required Packages",id:"required-packages",level:2},{value:"Storage Configuration",id:"storage-configuration",level:2},{value:"Disk Layout",id:"disk-layout",level:3},{value:"Mount Points",id:"mount-points",level:3},{value:"Network Configuration",id:"network-configuration",level:2},{value:"Physical Interfaces",id:"physical-interfaces",level:3},{value:"VLAN Interfaces",id:"vlan-interfaces",level:3},{value:"Kernel Parameters",id:"kernel-parameters",level:2},{value:"Services",id:"services",level:2},{value:"SSH",id:"ssh",level:3},{value:"NTP (Chrony)",id:"ntp-chrony",level:3},{value:"System Configuration",id:"system-configuration",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"os-requirements",children:"OS Requirements"})}),"\n",(0,s.jsx)(n.h2,{id:"operating-system",children:"Operating System"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ubuntu Server 24.04 with HWE kernel"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"required-packages",children:"Required Packages"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ipmitool"})," - IPMI management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"lm-sensors"})," - Hardware monitoring"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"smartmontools"})," - Disk health monitoring"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"bridge-utils"})," - Network bridge utilities"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"podman"})," - Container runtime"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"catatonit"})," - Container init"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"python3-podman"})," - Python Podman bindings"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"python3-pip"})," - Python package manager"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"libvirt-clients"})," - Virtualization tools"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ovmf"})," - UEFI firmware for VMs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"chrony"})," - NTP time synchronization"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"storage-configuration",children:"Storage Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"disk-layout",children:"Disk Layout"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Two disks in RAID1 (mdraid) configuration"}),"\n",(0,s.jsx)(n.li,{children:"GPT partition table on both disks"}),"\n",(0,s.jsx)(n.li,{children:"EFI partitions on both disks (FAT32, ~256MB)"}),"\n",(0,s.jsx)(n.li,{children:"Root filesystem on RAID1 array (ext4)"}),"\n",(0,s.jsx)(n.li,{children:"Swap disabled"}),"\n",(0,s.jsx)(n.li,{children:"UEFI boot from both disks"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"mount-points",children:"Mount Points"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/"})," - RAID1 root partition"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/boot/efi"})," - Primary EFI partition"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/boot/efi2"})," - Secondary EFI partition"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"network-configuration",children:"Network Configuration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Netplan v2 configuration"}),"\n",(0,s.jsxs)(n.li,{children:["systemd-networkd with ",(0,s.jsx)(n.code,{children:"--any"})," wait-online behavior"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"physical-interfaces",children:"Physical Interfaces"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["VLAN trunk interface named to ",(0,s.jsx)(n.code,{children:"physical0"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"vlan-interfaces",children:"VLAN Interfaces"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"frontend0"})," - VLAN 101 on ",(0,s.jsx)(n.code,{children:"physical0"})," (default gateway)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"provisioning0"})," - VLAN 102 on ",(0,s.jsx)(n.code,{children:"physical0"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"kernel-parameters",children:"Kernel Parameters"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"amd_iommu=on"})," - AMD IOMMU enabled"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"iommu=pt"})," - IOMMU passthrough mode"]}),"\n",(0,s.jsx)(n.li,{children:"Nouveau driver blacklisted"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"services",children:"Services"}),"\n",(0,s.jsx)(n.h3,{id:"ssh",children:"SSH"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OpenSSH server installed"}),"\n",(0,s.jsx)(n.li,{children:"Key-based authentication configured"}),"\n",(0,s.jsx)(n.li,{children:"Root SSH access enabled"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"ntp-chrony",children:"NTP (Chrony)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Custom NTP pool configuration"}),"\n",(0,s.jsx)(n.li,{children:"pool.ntp.org as primary source"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"system-configuration",children:"System Configuration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Root user enabled"}),"\n",(0,s.jsx)(n.li,{children:"GRUB recordfail timeout: 3 seconds"}),"\n",(0,s.jsxs)(n.li,{children:["Docker directory pre-created (",(0,s.jsx)(n.code,{children:"/var/lib/docker"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"open-iscsi removed"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>t});var r=i(6540);const s={},o=r.createContext(s);function l(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);